var GRASS="../shared_assets/images/grass.png",WATER="../shared_assets/images/water.png",DECK="../shared_assets/images/deck.png",WIDTH=100,HEIGHT=11,DEPTH=100,MIDX=WIDTH/2,MIDY=HEIGHT/2,MIDZ=DEPTH/2,ball=null,t=0,dx=7,dy=2.5,dz=4,env=new Primrose.BrowserEnvironment({skyTexture:"../shared_assets/images/bg.jpg",groundTexture:DECK,useFog:!0,fullScreenButtonContainer:"#fullScreenButtonContainer",progress:Preloader.thunk});env.addEventListener("ready",function(){function a(a,s,n,r,o,d){cylinder(a,s,n,6,1).textured("../shared_assets/images/sand.png").addTo(e).at(r,o,d)}var e=hub().addTo(this.scene).at(-MIDX,0,-MIDZ),s=(brick(DECK,WIDTH,.1,DEPTH).named("Ceiling").addTo(e).at(WIDTH/2,12.5,DEPTH/2),[]);ball=brick("../shared_assets/images/rock.png",1,1,1).named("Ball").addTo(e).at(0,0,0);for(var n=0;n<5e3;++n)s.push(v3(Primrose.Random.number(-.5*WIDTH,.5*WIDTH),Primrose.Random.number(-.5*HEIGHT,.5*HEIGHT),Primrose.Random.number(-.5*DEPTH,.5*DEPTH)));cloud(s,this.options.backgroundColor,.05).addTo(e).at(MIDX,MIDY,MIDZ),function(a,n){s.splice(0);for(var r=a*a,o=-a;o<=a;o+=n)for(var d=o*o,t=-a;t<=a;t+=n){var i=t*t;if(d+i<r){var l=Math.sqrt(r-d-i);s.push(v3(o,l,t)),s.push(v3(o,-l,t))}}cloud(s,16711680,n*Math.sqrt(2)).addTo(e).at(MIDX-a,a,MIDZ-a)}(10,.1);for(var n=0;n<100;++n){var r=Primrose.Random.int(WIDTH),o=Primrose.Random.int(DEPTH);a(.5,1,1,r,0,o),a(.5,.5,11,r,6,o),a(2,.5,1,r,12,o)}Preloader.hide()}.bind(env)),env.addEventListener("update",function(a){t+=a,ball.position.x+=dx*a,ball.position.y+=dy*a,ball.position.z+=dz*a,(ball.position.x<0&&dx<0||WIDTH<=ball.position.x&&dx>0)&&(dx*=-1),(ball.position.y<1&&dy<0||HEIGHT<=ball.position.y&&dy>0)&&(dy*=-1),(ball.position.z<0&&dz<0||DEPTH<=ball.position.z&&dz>0)&&(dz*=-1)});